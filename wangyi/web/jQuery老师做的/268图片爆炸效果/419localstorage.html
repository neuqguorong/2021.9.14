<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <style>
        *{margin: 0;padding: 0;}
        body,html{height: 100%;}
        body{position:relative;}
        #d1{width: 50px;height: 50px;border: 1px solid black;border-radius: 5px;float: left;}
        #d1 img,#d2 img{width: 100%;height: 100%;float: left;}
        #d2{width: 200px;height: 200px;border: 1px solid black;border-radius:50%;position: absolute;left: 50%;top: 50%;margin: -100px 0 0 -100px;border: 2px solid #ccc;}
        #d2 img{border-radius: 50%;}
        #d3{width: 400px;height: 30px;border: 5px solid black;margin: 100px;}
        #d4{width: 100%;height:100%;background: red;}
    </style>
</head>
<body>
    <div id="d1">
        <img src="1.jpg">
    </div>
    <div>
        <div id="name">高博：LV:<span id="lv">0</span></div>
        <div id="EXP">EXP:<span id="ex">0</span></div>
    </div>
    <div id="d3">
        <div id="d4"></div>
    </div>
    <div id="d2">
        <img src="2.jpg">
    </div>
</body>

<script>
    onload=function(){
        if(localStorage.exv||localStorage.lv)
        {
            ex.innerHTML=localStorage.exv;
            lv.innerHTML=localStorage.lv;
        }
        else{
            ex.innerHTML= lv.innerHTML='';
        }
    }

    lv.innerHTML='';
    var i=0;
    var t=null;
    var l=d3.offsetWidth;
    var exv=0;
    d2.onclick=function(){
        clearInterval(t);
        t=setInterval(function(){
            i++;
            if(i==10)
            {
                clearInterval(t);
                i=0;
                document.body.style.left=0+'px';
                document.body.style.top=0+'px';
                return;
            }
            document.body.style.left=-10+Math.random()*20+'px';
            document.body.style.top=-10+Math.random()*20+'px';
        },30)

        l-=Math.random()*40;
        d4.style.width=l+'px';
        exv+=parseInt(Math.random()*10);
        ex.innerHTML=exv;
        localStorage.exv=exv;

        if(exv>100)
        {
            lv.innerHTML=parseInt(exv/100);
        }

        localStorage.lv=lv.innerHTML;
    }
</script>
</html>