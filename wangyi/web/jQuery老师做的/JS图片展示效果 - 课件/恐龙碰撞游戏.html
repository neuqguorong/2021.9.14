<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <script src="jquery-1.9.1.min.js"></script>
    <style>
        *{margin: 0;padding: 0;}
        #dargon{width: 80px;height: 80px;background: green;
        position: relative;left: 100px;top: 200px;}
        #line{width: 100%;height: 1px;background: black;
        position: absolute;top:260px;}
        .d3{width: 20px;height: 100px;background: red; 
        position: absolute;top:190px;left: 500px;}
    </style>
</head>
<body style="width: 10000px;">
    <div id="dargon"></div>
    <div id="line"></div>
</body>

<script>
    var t = true;
    $(document).click(function(){
        if(!t)return;
        t=false;
        $('#dargon').stop().animate({
            'top':0
        },500,function(){
            $('#dargon').stop().animate({
                'top':200
            },500,function(){
                t=true;
            })
        })
    });

    setInterval(function(){
        var s = $('<div class="d3" id="d1"></div>');
        s.css({'height':50+150*Math.random(),'left':300+1000*Math.random()});
        s.appendTo('body');
        $(s).stop().animate({
            'left':0
        },3000,'linear');
        setInterval(knockinto,30,dargon,s[0]); 
    },3000);
    

    //d1不动，d2动
    function knockinto(d1,d2){
        if(d2.offsetLeft+d2.offsetWidth>d1.offsetLeft && 
        d2.offsetTop+d2.offsetHeight>d1.offsetTop && 
        d2.offsetLeft<d1.offsetLeft+d1.offsetWidth && 
        d2.offsetTop<d1.offsetTop+d1.offsetHeight)
        {
            alert('game over');
        }
    }

    //setInterval(knockinto,30,$('#dargon')[0],s[0]); 
    
</script>
</html>