<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        for(var i=0;i<20;i++)
        {
            var odiv=document.createElement('div');
            odiv.style.cssText='width:30px;height:30px;background:green;float:left;margin:5px 5px;position:relative;transition:1s all ease;';
            //odiv.style.margin="5px 5px";
            document.body.appendChild(odiv);
        }

        var adiv=document.getElementsByTagName('div');
        var t=null;
        var kaiguan=true;
        var i=0;
        onclick=function(){
            if(kaiguan==true)
            {
                kaiguan=false;
            }
            t=setInterval(function(){
                adiv[i].style.top='300px';
                i++;
                if(i==adiv.length)
                {
                    clearInterval(t);
                    i=adiv.length-1;
                    //console.log(i);
                    kaiguan=true;
                }
            },200);

           
            setTimeout(function(){
                    t=setInterval(function(){
                    adiv[i].style.top='0px';
                    i--;
                    if(i==-1)
                    {
                        clearInterval(t);
                        i=0;
                        //console.log(i);
                        kaiguan=true;
                    }
                },200);
            },200*(adiv.length+1));

            //console.log(200*(adiv.length+1));
        }
        
    </script>
</body>
</html>