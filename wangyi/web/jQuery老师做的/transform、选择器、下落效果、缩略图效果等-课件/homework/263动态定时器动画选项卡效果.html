<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<style>
*{ margin:0; padding:0; list-style:none;}
img{ border:none;}
.big{ width:920px; height:320px; position:absolute; left:50%; top:50%; margin-left:-460px; margin-top:-160px; border:1px solid black; overflow:hidden;}
.big .sMove{  height:300px; position:absolute;left:0; top:0;}
.big .sMove li{ width:920px; height:300px; float:left;}
.big .sNav{ width:920px; height:20px; position:absolute; bottom:0; left:0; background:black;}
.big .sNav ol{ width:220px; height:10px; margin:5px auto;}
.big .sNav ol li{ width:50px; height:10px; margin-right:5px; background:white; float:left; cursor:pointer;}
.big .sNav ol li div{ width:0; height:10px; background:#3CF;}
</style>

<title>Untitled Document</title>
</head>

<body>
<div class="big" id="big">
	<ul class="sMove" id="sMove">
    	<li style="background:green"></li>
        <li style="background:yellow"></li>
        <li style="background:blue"></li>
        <li style="background:red"></li>
    </ul>
    <div class="sNav" id='sNav'>
    	<ol>
        	<li><div></div></li>
            <li><div></div></li>
            <li><div></div></li>
            <li><div></div></li>
        </ol>
    </div>
</div>

<script type="text/javascript">
    var ali=sNav.getElementsByTagName('li');
    var adiv=sNav.getElementsByTagName('div');//console.log(adiv);
    var w=0;
    var i=0;
    var t=null;
    sMove.style.width=sMove.children.length*sMove.children[0].offsetWidth+'px';
    sMove.style.left=0;
    function move(){
        clearInterval(t);
        
        t=setInterval(function(){
            adiv[i].style.width =w+'%';
            w++;
            if(w==100)
            {
                for(var j=0;j<ali.length;j++)
                {
                    adiv[j].style.width =0;
                }
                w=0;                
                i++;
                sMove.style.left=-i*sMove.children[0].offsetWidth+'px';
                if(i==ali.length)
                {
                    i=0;
                    sMove.style.left=0;
                }
               
            }
        },30);
    };

    move();
    //console.log(1);
    for(var j=0;j<ali.length;j++)
    {
        ali[j].index=j;
        ali[j].onmouseover=function(){
            clearInterval(t);
        }
        ali[j].onmouseout=function(){
            move();
        }
        ali[j].onclick=function(){
            for(var j=0;j<ali.length;j++)
            {
                adiv[j].style.width =0;
            }
            i=this.index;
            w=0;
            //move();
            sMove.style.left=-this.index*sMove.children[0].offsetWidth+'px';
        }
    }

    


</script>
</body>
</html>
