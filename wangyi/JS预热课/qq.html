<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<style type="text/css">
		*{margin: 0;padding: 0;}
		#text{width: 250px;height: 400px;border: 1px solid black;}
		div{word-wrap: break-word;}
		img{width: 30px;height: 30px;}
		.bi{float: right;width: 100%;}
		.bi img{float: left;}
		.bi div{float: left;word-wrap: break-word;width: 217px;border: 1px solid black;}
		.mo{float: right;width: 100%;}
		.mo img{float: right;}
		.mo div{float: right;word-wrap: break-word;width: 217px;border: 1px solid black;}
	</style>
</head>
<body>
	<div id="text"></div>
	<img id="headimg" src="bilibili.png">
	<textarea id="te"></textarea>
	<input id="btn" type="button" value="send">
</body>
<script type="text/javascript">
	var imgtoggle=false;
	var image='';
	headimg.onclick=function(){
		imgtoggle=!imgtoggle;
		imgtoggle?headimg.src='模糊背景.jpg':headimg.src='bilibili.png';
	}
	btn.onclick=function(){
		if(te.value=='')
		{
			alert('please input message');
		}
		else
		{
			var odiv=document.createElement('div');
			image=imgtoggle?'模糊背景.jpg':'bilibili.png';
			imgtoggle?odiv.className='mo':odiv.className='bi';
			odiv.innerHTML='<img src='+image+' width=30 height=30><div>'+te.value+'</div>';
			odiv.style.marginTop='4px';
			text.appendChild(odiv);
			te.value='';
		}
	}
</script>
</html>