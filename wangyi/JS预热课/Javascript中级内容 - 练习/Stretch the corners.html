<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title></title>
<style>
#div1 {width:500px; height:300px; background:#CCC; position:absolute; left:200px; top:100px;}
#div1 .rb {width:20px; height:20px; background:red; position:absolute; right:0; bottom:0; z-index:2;cursor: nw-resize;}
#div1 .lt {width:20px; height:20px; background:red; position:absolute; left:0; top:0; z-index:2;cursor: nw-resize;}
#div1 .r {width:20px; height:100%; background:yellow; position:absolute; right:0; top:0; z-index:1;cursor: w-resize;}
#div1 .b {width:100%; height:20px; background:yellow; position:absolute; right:0; bottom:0; z-index:1;cursor: n-resize;}
#div1 .rt {width:20px; height:20px; background:red; position:absolute; right:0; top:0; z-index:2;cursor: sw-resize;}
#div1 .lb {width:20px; height:20px; background:red; position:absolute; left:0; bottom:0; z-index:2;cursor: sw-resize;}
#div1 .l {width:20px; height:100%; background:yellow; position:absolute; left:0; top:0; z-index:1;cursor: e-resize;}
</style>

</head>

<body>
<div id="div1">
	<span class="rb" id='rb'></span>
	<span class="lt" id='lt'></span>
    <span class="r" id="r"></span>
    <span class="b" id="b"></span>
	<span class="rt" id='rt'></span>
	<span class="lb" id="lb"></span>
    <span class="l" id="l"></span>
</div>

<script type="text/javascript">
	rb.onmousedown=function(e){
		var ev=e||event;
		var l=ev.clientX-this.offsetLeft;
		var t=ev.clientY-this.offsetTop;
		document.onmousemove=function(e){
			var ev=e||event;
			var newl=ev.clientX-l;
			var newt=ev.clientY-t;
			if(newl<rb.offsetWidth)newl=rb.offsetWidth;
			if(newt<rb.offsetHeight)newt=rb.offsetHeight;
			rb.style.left=newl+'px';
			rb.style.top=newt+'px';
			div1.style.width=newl+rb.offsetWidth+'px';
			div1.style.height=newt+rb.offsetHeight+'px';
			
		}
		document.onmouseup=function(){
			document.onmousemove=document.onmouseup=null;
		}
	}

	rt.onmousedown=function(e){
		var ev=e||event;
		var l=ev.clientX-this.offsetLeft;
		var t=ev.clientY-this.offsetTop;
		var rtoldoffsettop=this.offsetTop;
		var divoldoffsettop=div1.offsetTop;
		var divoldheight=div1.offsetHeight;
		var divoldtop=div1.offsetTop;
		document.onmousemove=function(e){
			var ev=e||event;
			var newl=ev.clientX-l;
			var newt=ev.clientY-t;
			//var rtheightsub=rt.offsetTop-rtoldoffsettop;
			//console.log(newt,rtheightsub);
			if(newl<rt.offsetWidth)newl=rt.offsetWidth;
			if(newt>divoldheight-2*rt.offsetHeight)newt=divoldheight-2*rt.offsetHeight;
			rt.style.left=newl+'px';
			rt.offsetTop=newt+'px';
			div1.style.width=newl+rt.offsetWidth+'px';
			div1.style.height=-newt+divoldheight+'px';
			div1.style.top=newt+divoldtop+'px';
		}
		document.onmouseup=function(){
			document.onmousemove=document.onmouseup=null;
		}
	}

	lt.onmousedown=function(e){
		var ev=e||event;
		var l=ev.clientX-this.offsetLeft;
		var t=ev.clientY-this.offsetTop;
		var rtoldoffsettop=this.offsetTop;
		var divoldoffsettop=div1.offsetTop;
		var divoldheight=div1.offsetHeight;
		var divoldtop=div1.offsetTop;
		var divoffsetleft=div1.offsetLeft;
		var divoldwidth=div1.offsetWidth;
		document.onmousemove=function(e){
			var ev=e||event;
			var newl=ev.clientX-l;
			var newt=ev.clientY-t;
			//console.log(newl);
			if(newl>divoldwidth-2*rt.offsetWidth)newl=divoldwidth-2*rt.offsetWidth;
			if(newt>divoldheight-2*rt.offsetHeight)newt=divoldheight-2*rt.offsetHeight;
			lt.offsetLeft=newl+'px';
			lt.offsetTop=newt+'px';
			div1.style.left=divoffsetleft+newl+'px';
			div1.style.width=divoldwidth-newl+'px';
			div1.style.height=-newt+divoldheight+'px';
			div1.style.top=newt+divoldtop+'px';
		}
		document.onmouseup=function(){
			document.onmousemove=document.onmouseup=null;
		}
	}

	lb.onmousedown=function(e){
		var ev=e||event;
		var l=ev.clientX-this.offsetLeft;
		var t=ev.clientY-this.offsetTop;
		var rtoldoffsettop=this.offsetTop;
		var divoldoffsettop=div1.offsetTop;
		var divoldheight=div1.offsetHeight;
		var divoldtop=div1.offsetTop;
		var divoffsetleft=div1.offsetLeft;
		var divoldwidth=div1.offsetWidth;
		document.onmousemove=function(e){
			var ev=e||event;
			var newl=ev.clientX-l;
			var newt=ev.clientY-t;
			//console.log(newl);
			if(newl>divoldwidth-2*rt.offsetWidth)newl=divoldwidth-2*rt.offsetWidth;
			if(newt<lb.offsetHeight)newt=lb.offsetHeight;
			lb.offsetLeft=newl+'px';
			rb.style.top=newt+'px';
			div1.style.left=divoffsetleft+newl+'px';
			div1.style.width=divoldwidth-newl+'px';
			div1.style.height=newt+lb.offsetHeight+'px';
		}
		document.onmouseup=function(){
			document.onmousemove=document.onmouseup=null;
		}
	}

	r.onmousedown=function(e){
		var ev=e||event;
		var l=ev.clientX-this.offsetLeft;
		var divoldwidth=div1.offsetWidth;
		document.onmousemove=function(e){
			var ev=e||event;
			var newl=ev.clientX-l;
			div1.style.width=newl+rb.offsetWidth+'px';
		}
		document.onmouseup=function(){
			document.onmousemove=document.onmouseup=null;
		}
	}

	l.onmousedown=function(e){
		var ev=e||event;
		var l=ev.clientX-this.offsetLeft;
		var divoffsetleft=div1.offsetLeft;
		var divoldwidth=div1.offsetWidth;
		document.onmousemove=function(e){
			var ev=e||event;
			var newl=ev.clientX-l;
			div1.style.left=divoffsetleft+newl+'px';
			div1.style.width=divoldwidth-newl+'px';
		}
		document.onmouseup=function(){
			document.onmousemove=document.onmouseup=null;
		}
	}

	b.onmousedown=function(e){
		var ev=e||event;
		var t=ev.clientY-this.offsetTop;
		document.onmousemove=function(e){
			var ev=e||event;
			var newt=ev.clientY-t;
			div1.style.height=newt+lb.offsetHeight+'px';
		}
		document.onmouseup=function(){
			document.onmousemove=document.onmouseup=null;
		}
	}

</script>
</body>
</html>