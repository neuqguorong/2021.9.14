<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{margin: 0;padding: 0;list-style: none;}
        #d1{width: 300px;height: 300px; background: #ccc;position: relative;left: 100px;top: 100px;}
        .jiao{width: 20px;height: 20px;background: red;}
        .bian{background: yellow;}
        ul{float: left;}
        .a{width: 20px;}
        #u2{width: 260px;background: #ccc;}
        .shu{height: 260px;width: 100%;}
        .heng{width: 100%;height:20px; }
        #l5{width: 100%;height: 260px;}
    </style>
</head>
<body>
    <div id="d1">
        <ul id="u1" class="a">
            <li id="l1" class="jiao"></li>
            <li id="l2" class="bian shu"></li>
            <li id="l3" class="jiao"></li>
        </ul>
        <ul id="u2">
            <li id="l4" class="bian heng"></li>
            <li id="l5"></li>
            <li id="l6" class="bian heng"></li>
        </ul>
        <ul id="u3" class="a">
            <li id="l7" class="jiao"></li>
            <li id="l8" class="bian shu"></li>
            <li id="l9" class="jiao"></li>
        </ul>
    </div>
</body>
<script>
    
    l1.onmousedown=function(e){
        var ev=e||event;
        var x0=ev.clientX,y0=ev.clientY,u2w=u2.offsetWidth,l2h=l2.offsetHeight,u1h=u1.offsetHeight,d1w=d1.offsetWidth,d1t=d1.offsetTop,d1l=d1.offsetLeft;//console.log(this,x0,y0);
        document.onmousemove=function(e){
            var ev=e||event;
            var x=ev.clientX-x0,y=ev.clientY-y0;//console.log(x,y);
            x>u2w?x=u2w:x=x,y>l2h?y=l2h:y=y;
            //u1.style.top=u2.style.top=u3.style.top=y+'px';
            //u1.style.height=u2.style.height=u3.style.height=u1h-y+'px';
            d1.style.left=d1l+x+'px';
            d1.style.top=d1t+y+'px';
            d1.style.height=u1h-y+'px';
            d1.style.width=d1w-x+'px';
            //u1.style.left=u2.style.left=u3.style.left=x+'px';
            u2.style.width=u2w-x+'px';
            l2.style.height=l5.style.height=l8.style.height=l2h-y+'px';
        }
        document.onmouseup=function(){
            document.onmousemove=document.onmouseup=null;
        }
    }

    l3.onmousedown=function(e){
        var ev=e||event;
        var x0=ev.clientX,y0=ev.clientY,u2w=u2.offsetWidth,l2h=l2.offsetHeight,u1h=u1.offsetHeight,d1w=d1.offsetWidth,d1l=d1.offsetLeft;//console.log(this,x0,y0);
        document.onmousemove=function(e){
            var ev=e||event;
            var x=ev.clientX-x0,y=ev.clientY-y0;//console.log(x,y);
            x>u2w?x=u2w:x=x,y<-l2h?y=-l2h:y=y;
            //u1.style.top=u2.style.top=u3.style.top=y+'px';
            d1.style.left=d1l+x+'px';
            d1.style.height=u1h+y+'px';
            d1.style.width=d1w-x+'px';
            //u1.style.left=u2.style.left=x+'px';
            u2.style.width=u2w-x+'px';
            l2.style.height=l5.style.height=l8.style.height=l2h+y+'px';
        }
        document.onmouseup=function(){
            document.onmousemove=document.onmouseup=null;
        }
    }

    l7.onmousedown=function(e){
        var ev=e||event;
        var x0=ev.clientX,y0=ev.clientY,u2w=u2.offsetWidth,l2h=l2.offsetHeight,u1h=u1.offsetHeight,d1w=d1.offsetWidth,d1t=d1.offsetTop;//console.log(this,x0,y0);
        document.onmousemove=function(e){
            var ev=e||event;
            var x=ev.clientX-x0,y=ev.clientY-y0;//console.log(x,y);
            x<-u2w?x=-u2w:x=x,y>l2h?y=l2h:y=y;
            //u1.style.top=u2.style.top=u3.style.top=y+'px';
            d1.style.top=d1t+y+'px';
            d1.style.height=u1h-y+'px';
            d1.style.width=d1w+x+'px';
            u2.style.width=u2w+x+'px';
            l2.style.height=l5.style.height=l8.style.height=l2h-y+'px';
        }
        document.onmouseup=function(){
            document.onmousemove=document.onmouseup=null;
        }
    }

    l9.onmousedown=function(e){
        var ev=e||event;
        var x0=ev.clientX,y0=ev.clientY,u2w=u2.offsetWidth,l2h=l2.offsetHeight,u1h=u1.offsetHeight,d1w=d1.offsetWidth;//console.log(this,x0,y0);
        document.onmousemove=function(e){
            var ev=e||event;
            var x=ev.clientX-x0,y=ev.clientY-y0;//console.log(x,y);
            d1.style.height=u1h+y+'px';
            d1.style.width=d1w+x+'px';
            u2.style.width=u2w+x+'px';
            l2.style.height=l5.style.height=l8.style.height=l2h+y+'px';
        }
        document.onmouseup=function(){
            document.onmousemove=document.onmouseup=null;
        }
    }
</script>
</html>