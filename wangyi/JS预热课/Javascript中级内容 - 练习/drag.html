<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
	<style type="text/css">
		*{margin: 0;padding: 0;}
		#d1{width: 100px;height: 100px;background: black;position: relative;}
	</style>
</head>
<body>
	fsdgvjeeidvdsoejdsoidzj
	<div id="d1">fedgfsgferfdserfdsggfe</div>
	<script type="text/javascript">
		d1.onmousedown=function(e){
			var ev=e||event;
			var l=ev.clientX-this.offsetLeft;
			var t=ev.clientY-this.offsetTop;
			document.onmousemove=function(e){
				var ev=e||event;
				var needleft=ev.clientX-l;
				var needtop=ev.clientY-t;
				needleft<0?needleft=0:needleft;
				needtop<0?needtop=0:needtop;
				needleft>(innerWidth-d1.offsetWidth)?needleft=(innerWidth-d1.offsetWidth):needleft;
				needtop>(innerHeight-d1.offsetHeight)?needtop=(innerHeight-d1.offsetHeight):needtop;
				d1.style.left=needleft+'px';
				d1.style.top=needtop+'px';
			}
			document.onmouseup=function(){
				document.onmousemove=document.onmouseup=null;
			}
			return false;
		}
	</script>
</body>
</html>