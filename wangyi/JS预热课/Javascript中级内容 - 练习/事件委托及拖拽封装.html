<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
	<style type="text/css">
		*{margin: 0;padding: 0;}
		#d1{width: 100px;height: 100px;background: red;}
		div,span{height: 100px;width: 100px;margin:50px;float: left;background:black;position: relative;}
	</style>
</head>
<body>
	<div id="d1"></div>
	<div></div><div class="drag"></div><span></span><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
	<script type="text/javascript">
		onclick=function(e){
			var ev=e||event;
			var osrc=ev.target||ev.srcElement;
			if(osrc.id=='d1')
			{
				alert(1);
			}
			if(osrc.nodeName=='SPAN')
			{
				osrc.style.background='green';
			}
			//if(osrc.className=='drag')  
			if(osrc.className.indexOf('drag')!=-1)
			{
				osrc.onmousedown=function(e){
					var ev=e||event;
					var l=ev.clientX-this.offsetLeft;
					var t=ev.clientY-this.offsetHeight;
					osrc.onmousemove=function(e){
						var ev=e||event;
						var needleft=ev.clientX-l;
						var needtop=ev.clientY-t;
						osrc.style.left=needleft+'px';
						osrc.style.top=needtop+'px';
					}
					osrc.onmouseup=function(){
						osrc.onmousemove=osrc.onmouseup=null;
					}
				}
				return false;
			}
		}
	</script>
</body>
</html>