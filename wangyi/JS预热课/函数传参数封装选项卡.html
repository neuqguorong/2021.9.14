<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>   
</body>
<script>
    function createtab(node,text,w,h,bgcolor){
        var onode=document.createElement(node);
        onode.innerHTML=text;
        onode.style.width=w;
        onode.style.height=h;
        onode.style.background=bgcolor;
        document.body.appendChild(onode);
    }
    createtab('div','i am div','200px','200px','red');
    createtab('p','i am p','200px','200px','green');

    function createtab2(obj){
        console.log(obj);
        var onode=document.createElement(obj.node);
        onode.innerHTML=obj.text;
        onode.style.width=obj.w;
        onode.style.height=obj.h;
        onode.style.background=obj.bgcolor;
        document.body.appendChild(onode);
    }
    createtab2({
        node:'div',
        'text':'i am div create by object arguments',
        'w':'200px',
        'h':'200px',
        'bgcolor':'red'
    });
    
    function createxxk(obj){
        var out=document.createElement('div');
        out.className='outs';
        for(var i=0;i<obj.topinnerHTML.length;i++)
        {
            var onode=document.createElement(obj.topnode);
            onode.innerHTML=obj.topinnerHTML[i];
            out.appendChild(onode);
        }
        for(var i=0;i<obj.topinnerHTML.length;i++)
        {
            var onode=document.createElement(obj.bottomnode);
            onode.innerHTML=obj.bottominnerHTML[i];
            for(var j in obj.bottomstyle)
            {
                onode['style'][j]=obj.bottomstyle[j];
            }
            if(i==0)
            {
                onode.style.display='block';
            }
            out.appendChild(onode);
        }
        document.body.appendChild(out);
        for(var i=0;i<obj.topinnerHTML.length;i++)
        {
            out.children[out.children.length-2*obj.topinnerHTML.length+i].index=i;
            out.children[out.children.length-2*obj.topinnerHTML.length+i].onclick=function(){
                //console.log(this);
                for(var i=0;i<obj.topinnerHTML.length;i++)
                {
                    out.children[out.children.length-2*obj.topinnerHTML.length+i].style.background='';
                    out.children[out.children.length-obj.topinnerHTML.length+i].style.background='';
                    out.children[out.children.length-obj.topinnerHTML.length+i].style.display='none';
                }
                this.style.background=obj.topbg;
                //console.log(document.body.children[document.body.children.length-obj.topinnerHTML.length+this.index]);
                out.children[out.children.length-obj.topinnerHTML.length+this.index].style.display='block';
                out.children[out.children.length-obj.topinnerHTML.length+this.index].style.background=obj.bottombg;
            }
        }
    }
    createxxk({
        'topnode':'button',
        'bottomnode':'div',
        'topinnerHTML':[1,2,3],
        'bottominnerHTML':['1','2','3'],
        'topbg':'red',
        'bottombg':'green',
        'bottomstyle':{
            'width':'200px',
            'height':'200px',
            'background':'#ccc',
            'fontSize':'100px',
            'display':'none'
        }
    });

    var obj={
        'topnode':'button',
        'bottomnode':'div',
        'topinnerHTML':[1,2,3,4],
        'bottominnerHTML':['1','2','3',4],
        'topbg':'red',
        'bottombg':'green',
        'bottomstyle':{
            'width':'200px',
            'height':'200px',
            'background':'#ccc',
            'fontSize':'100px',
            'display':'none'
        }
    };

    createxxk({
        'topnode':'button',
        'bottomnode':'div',
        'topinnerHTML':[1,2,3,4],
        'bottominnerHTML':['1','2','3',4],
        'topbg':'red',
        'bottombg':'green',
        'bottomstyle':{
            'width':'200px',
            'height':'200px',
            'background':'#ccc',
            'fontSize':'100px',
            'display':'none'
        }
    });

    //让选项卡动起来
    function auto(out2,obj,index1){
        for(var i=0;i<obj.topinnerHTML.length;i++)
        {
            for(var i=0;i<obj.topinnerHTML.length;i++)
            {
                out2.children[out2.children.length-2*obj.topinnerHTML.length+i].style.background='';
                out2.children[out2.children.length-obj.topinnerHTML.length+i].style.background='';
                out2.children[out2.children.length-obj.topinnerHTML.length+i].style.display='none';
            }
            out2.children[out2.children.length-2*obj.topinnerHTML.length+index1].style.background=obj.topbg;
            out2.children[out2.children.length-obj.topinnerHTML.length+index1].style.display='block';
            out2.children[out2.children.length-obj.topinnerHTML.length+index1].style.background=obj.bottombg;
        }
    }

    //用函数封装成自动选项卡
    function createautoxxk(obj){
        var out=document.createElement('div'),index2=0;
        out.className='outs';
        for(var i=0;i<obj.topinnerHTML.length;i++)
        {
            var onode=document.createElement(obj.topnode);
            onode.innerHTML=obj.topinnerHTML[i];
            out.appendChild(onode);
        }
        for(var i=0;i<obj.topinnerHTML.length;i++)
        {
            var onode=document.createElement(obj.bottomnode);
            onode.innerHTML=obj.bottominnerHTML[i];
            for(var j in obj.bottomstyle)
            {
                onode['style'][j]=obj.bottomstyle[j];
            }
            if(i==0)
            {
                onode.style.display='block';
            }
            out.appendChild(onode);
        }
        document.body.appendChild(out);
        for(var i=0;i<obj.topinnerHTML.length;i++)
        {
            out.children[out.children.length-2*obj.topinnerHTML.length+i].index=i;
            out.children[out.children.length-2*obj.topinnerHTML.length+i].onclick=function(){
                //console.log(this);
                for(var i=0;i<obj.topinnerHTML.length;i++)
                {
                    out.children[out.children.length-2*obj.topinnerHTML.length+i].style.background='';
                    out.children[out.children.length-obj.topinnerHTML.length+i].style.background='';
                    out.children[out.children.length-obj.topinnerHTML.length+i].style.display='none';
                }
                this.style.background=obj.topbg;
                //console.log(document.body.children[document.body.children.length-obj.topinnerHTML.length+this.index]);
                out.children[out.children.length-obj.topinnerHTML.length+this.index].style.display='block';
                out.children[out.children.length-obj.topinnerHTML.length+this.index].style.background=obj.bottombg;
            }
        }

        setInterval(function(){
            auto(out,obj,index2);
            index2++;
            if(index2==obj.topinnerHTML.length)
            {
                index2=0;            
            }
        },1000);
        
    }
    createautoxxk(obj);
</script>
</html>